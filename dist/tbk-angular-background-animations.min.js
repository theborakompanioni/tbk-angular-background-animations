!function(t){t.module("tbkBackgroundAnimations.config",[]).value("tbkBackgroundAnimations.config",{debug:!0}),t.module("tbkBackgroundAnimations.directives",[]),t.module("tbkBackgroundAnimations.services",[]),t.module("tbkBackgroundAnimations.core",["tbkBackgroundAnimations.config","tbkBackgroundAnimations.directives","tbkBackgroundAnimations.services"]),t.module("tbkBackgroundAnimations.animations",["tbkBackgroundAnimations.core"]),t.module("tbkBackgroundAnimations",["tbkBackgroundAnimations.core","tbkBackgroundAnimations.animations"])}(angular),angular.module("tbkBackgroundAnimations.services").factory("tbkAnimationFrame",["$window",function(t){"use strict";var n=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){t.setTimeout(n,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.clearTimeout}();return{request:function(i){return n.call(t,i)},cancel:function(n){return i.call(t,n)}}}]),angular.module("tbkBackgroundAnimations.services").factory("tbkColors",["$window",function(){"use strict";var t=function i(t,n){var a=n||"#000",r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(r,function(t,n,i,a){return n+n+i+i+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:i(a,"#000")},n=function(t,n,i){return"#"+((1<<24)+(t<<16)+(n<<8)+i).toString(16).slice(1)};return{rgbToHex:n,hexToRgb:t}}]),function(t){"use strict";var n=function(t,n){return function(i,a){function r(){k.fillStyle=m.backgroundColor,k.fillRect(0,0,g,h)}function e(){this.x=Math.random()*g,this.y=Math.random()*h,this.vx=-1+2*Math.random(),this.vy=-1+2*Math.random(),this.radius=m.particleSize,this.draw=function(){k.fillStyle=m.particleColor,k.beginPath(),k.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),k.fill()}}function o(){r();for(var t=0,n=v.length;n>t;t++)v[t].draw();c()}function c(){for(var t=m.minDistance,n=0,i=v.length;i>n;n++){var a=v[n];a.x+=a.vx,a.y+=a.vy,a.x+a.radius>g?a.x=a.radius:a.x-a.radius<0&&(a.x=g-a.radius),a.y+a.radius>h?a.y=a.radius:a.y-a.radius<0&&(a.y=h-a.radius);for(var r=n+1;i>r;r++){var e=v[r],o=l(a,e);t>=o&&(s(a,e,o/t),u(a,e,m.accelerate))}}}function u(t,n,i){var a=t.x-n.x,r=t.y-n.y,e=a*i,o=r*i;t.vx-=e,t.vy-=o,n.vx+=e,n.vy+=o}function s(t,n,i){k.beginPath(),k.strokeStyle="rgba("+f+","+(1.2-i)+")",k.moveTo(t.x,t.y),k.lineTo(n.x,n.y),k.stroke(),k.closePath()}function l(t,n){var i=t.x-n.x,a=t.y-n.y;return Math.sqrt(i*i+a*a)}var m=a||{};if(m.backgroundColor||(m.backgroundColor="rgba(0,0,0,1)"),m.particleColor||(m.particleColor="#fff"),m.particleSize||(m.particleSize=3),!m.particleCount){var d=Math.round(i.width*i.height/6e3);m.particleCount=Math.max(50,d)}m.minDistance||(m.minDistance=100),m.accelerate||(m.accelerate=1/3e3),m.strokeColor||(m.strokeColor="#fff");for(var f=n.hexToRgb(m.strokeColor,"#fff").join(","),k=i.getContext("2d"),g=i.width,h=i.height,v=[],b=0,y=m.particleCount;y>b;b++)v.push(new e);var A;return function x(){o(),A=t.request(x)}(),function(){t.cancel(A)}}};t.module("tbkBackgroundAnimations.animations.ParticleGravity",["tbkBackgroundAnimations.animations"]).factory("tbkParticleGravityAnimationService",["tbkAnimationFrame","tbkColors",function(t,i){return n(t,i)}]).directive("tbkParticleGravityAnimation",["tbkParticleGravityAnimationService",function(n){return{scope:{width:"@",height:"@",style:"=?",options:"=?"},template:"<canvas></canvas>",controller:[function(){}],compile:function(i){var a=i.children()[0];return function(i){i.options=i.options||{},i.style=i.style||[],a.width=i.width||a.width,a.height=i.height||a.height;var r=t.element(a);t.forEach(i.style,function(t,n){r.css(n,t)});var e=n(a,i.options);i.$on("$destroy",function(){e()})}}}}])}(angular);